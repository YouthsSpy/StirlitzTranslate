<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Stirlitz Translate by YouthsSpy</title>
    <script>
      var el = function(o){ return document.getElementById(o); }
      function Read(result){
        result = replaceAll(result, "return", "<br />");
        result = replaceAll(result, "menu", "<br /><font style=\"color: #ff0000;\">alt</font><br />");
        result = replaceAll(result, "capslock", "<br /><font style=\"color: #ff0000;\">caps lock</font><br />");
        result = replaceAll(result, "capital", "<br /><font style=\"color: #ff0000;\">caps lock</font><br />");
        result = replaceAll(result, "space", " ");
        result = replaceAll(result, "numlock", "<br /><font style=\"color: #ff0000;\">num lock</font><br />");
        result = replaceAll(result, "tab", "<br /><font style=\"color: #ff0000;\">tab</font><br />");
        result = replaceAll(result, "oemcomma", ";");
        result = replaceAll(result, "oemperiod", ".");
        result = replaceAll(result, "decimal", ".");
        result = replaceAll(result, "oemquestion", "(?/.)");
        result = replaceAll(result, "oem", ".");
        result = replaceAll(result, "minus", " - ");
        result = replaceAll(result, "subtract", " - ");
        result = replaceAll(result, "plus", " + ");
        result = replaceAll(result, "back", " <font style=\"color: #ff0000;\">back</font> ");
        return result;
      }
      function Convert(){
        var result;
        
        result = el("taGet").value;
        result = Read(result);
        el("result").innerHTML = result;
        
        result = el("taGet").value;
        result = Read(result);
        result = replaceAllChar(result, "[2]", "@");
        result = replaceAllChar(result, "]", "");
        result = replaceAllChar(result, "[", "");
        result = result.toLowerCase()
        el("resultChar").innerHTML = result;
        
        result = el("taGet").value;
        var charsHe = "'קראטוןםפשדגכעיחלךףזסבהנמצת";
        var charsEn = "WERTYUIOPASDFGHJKL;ZXCVBNM,";
        for(var i = 0; i < charsEn.length; i++){
          console.log(i + ": " + charsEn[i] + " = " + charsHe[i]);
          result = replaceAll(result, charsEn[i], charsHe[i]);
        }
        result = replaceAllChar(result, ";", "ת");
        result = replaceAllChar(result, "[", "");
        result = replaceAllChar(result, "]", "");
        result = Read(result);
        el("resultHe").innerHTML = result;
      }
      function replaceAll(str, get, set) {
        return str.replace(new RegExp(get, 'g'), set);
      }
      function replaceAllChar(str, get, set) {
        for(var i = 0; i < str.length; i++){
          str = str.replace(get, set);
        }
        return str;
      }
      function OnResultScroll(o){
        el("result").scrollTop = o.scrollTop;
        el("resultChar").scrollTop = o.scrollTop;
        el("resultHe").scrollTop = o.scrollTop;
      }
    </script>
    <style>
      html, body {
        width: 100%
        height: 100%
      }
      body{
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      #taGet, #result, #resultChar, #resultHe{
        position: fixed;
        background-color: #000000;
        color: #00cc00;
        overflow-y: scroll;
        overflow-x: hidden;
        border: 5px solid #00cc00;
      }
      #taGet{
        left: 0;
        top: 0;
        width: 99%;
        height: 50%;
      }
      #result, #resultChar, #resultHe{
        bottom: 0;
        width: 33%;
        height: 50%;
        word-wrap: break-word;
      }
      #result{
        left: 0;
      }
      #resultChar{
        left: 33%;
      }
      #resultHe{
        left: 66%;
      }
    </style>
  </head>
  <body>
    <textarea id="taGet" onchange="Convert();"></textarea>
    <div id="result" onscroll="OnResultScroll(this);"></div>
    <div id="resultChar" onscroll="OnResultScroll(this);"></div>
    <div id="resultHe" onscroll="OnResultScroll(this);"></div>
  </body>
</html>

